### TCP和UDP的区别

TCP面向连接（如打电话要先拨号建立连接）。UDP是无连接的，dao即发送数据之前不需要建立连接。

TCP提供可靠的服务，通过TCP连接传送的数据，**无差错，不丢失，不重复，且按序到达**。UDP尽最大努力交付，即**不保证可靠交付**。

TCP**传输效率**相对较低。UDP结构简单，传输效率高，适用于对高速传输和实时性有较高的通信或广播通信。

TCP连接只能是点到点、一对一的。UDP支持一对一，一对多，多对一和多对多的交互通信。

TCP面向字节流，实际上是TCP把数据看成一连串无结构的字节流;UDP是面向报文的
UDP没有拥塞控制，因此网络出现拥塞不会使源主机的发送速率降低（对实时应用很有用，如IP电话，实时视频会议等）

### TCP最后一次挥手为什么要等待2MSL

MSL(Maximum Segment Lifetime)，最长报文段寿命，一般为两分钟。

本质原因是网络是不可靠的，所以TIME_WAIT状态就是用来重发可能丢失的ACK报文。如果发送方的最后一次ack没有被接收方收到的话，那么接收方会进行重传第三次的释放连接请求，TIME_WAIT就是为了在这种情况下重发丢失了的ack报文。

也就是：接收方等待最后一次ack+重发的第三次释放连接请求到达发送方的时间<=2MSL，因此需要等待2MSL。

### TCP的两个重传机制

超时重传和快重传

超时重传：TCP每发送一个报文段，就对这个报文段设置一次计时器；如果计时器到了还没收到确认，那么重传该报文

快重传：如果接收方接收到一个**失序的**报文段，那么发出重复确认，以便让发送方及早知道有报文段没有到达接收方；发送方收到三个重复确认，就要立即重传尚未收到的报文段


### 在浏览器输入URL后的流程

DNS域名解析（缓存、hosts、本地域名服务器**进行递归查询**）  TCP连接（三次握手）  HTTP请求（GET/POST）  处理请求返回HTTP响应  页面渲染（DOM树）  关闭连接（TCP四次挥手）

### TCP如何保证可靠传输

1、确认和重传：接收方收到报文就会确认，发送方发送一段时间后没有收到确认就重传。

2、数据校验

3、数据合理分片和排序：

　　UDP：IP数据报大于1500字节,大于MTU.这个时候发送方IP层就需要分片(fragmentation).把数据报分成若干片,使每一片都小于MTU.而接收方IP层则需要进行数据报的重组.这样就会多做许多事情,而更严重的是,由于UDP的特性,当某一片数据传送中丢失时,接收方便无法重组数据报.将导致丢弃整个UDP数据报.

　　tcp会按MTU合理分片，接收方会缓存未按序到达的数据，重新排序后再交给应用层。

4、流量控制：当接收方来不及处理发送方的数据，能提示发送方降低发送的速率，防止包丢失。

5、拥塞控制：当网络拥塞时，减少数据的发送。

### HTTP和HTTPS的关系

HTTP协议传输的数据都是未加密的，也就是明文的，因此使用HTTP协议传输隐私信息非常不安全，为了保证这些隐私数据能加密传输，于是网景公司设计了SSL（Secure Sockets  Layer）协议用于对HTTP协议传输的数据进行加密，从而就诞生了HTTPS。简单来说，HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，要比http协议安全。

HTTPS和HTTP的区别主要如下：

1. https协议需要到CA申请证书，一般免费证书较少，因而需要一定费用。

2. http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。

3. http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。

4. http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。



 